import axiosInstance from '../utils/axiosInterceptors';
import { AxiosResponse } from 'axios';
import { Article, ArticleCategory } from '../models/article';
import { apiUrls } from '../utils/apiUrls';

const responseBody = (response: AxiosResponse) => response.data;

const getAll = (): Promise<ArticleCategory[]> => {
    return axiosInstance.get(apiUrls.ARTICLES).then(responseBody);
};

const getOne = (id: string): Promise<Article> => {
    const url = `${apiUrls.ARTICLES}${id}/`;
    return axiosInstance.get(url).then(responseBody);
};

export const articlesService = {
    getAll,
    getOne
};
