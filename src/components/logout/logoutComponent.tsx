import React, { useEffect } from 'react';
import { useAppDispatch } from '../../context/hooks';
import { logout } from '../../context/userReducer';
import { Redirect } from 'react-router-dom';
import { useToasts } from 'react-toast-notifications';

const logoutSuccessfulText = 'Logged out successfully!';

const LogoutComponent = () => {
    const dispatch = useAppDispatch();
    const { addToast } = useToasts();

    useEffect(() => {
        dispatch(logout());
    }, []);

    addToast(logoutSuccessfulText, {
        appearance: 'success'
    });

    return <Redirect to={'/dashboard'} />;
};

export default LogoutComponent;
