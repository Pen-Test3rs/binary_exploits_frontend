import React from 'react';
import NavbarLink from './navbarLink';
import { useAppSelector } from '../../context/hooks';
import { isLoggedIn } from '../../context/userReducer';

interface NavbarLinksRendererProps {
    mobile: boolean;
    additionalActions?: (() => void)[];
}

interface LinkProps {
    to: string;
    text: string;
    show?: boolean;
}

const NavbarLinksRenderer = ({ mobile, additionalActions = [] }: NavbarLinksRendererProps) => {
    const logged = useAppSelector(isLoggedIn);

    const navbarLinks: LinkProps[] = [
        {
            to: '/dashboard',
            text: 'Dashboard',
            show: logged
        },
        {
            to: '/challenges',
            text: 'Challenges'
        },
        {
            to: '/articles',
            text: 'Articles'
        }
    ];

    return (
        <>
            {navbarLinks
                .filter(({ show = true }: LinkProps) => show)
                .map(({ to, text }) => {
                    return (
                        <NavbarLink
                            to={to}
                            text={text}
                            additionalStyles={mobile ? 'block' : ''}
                            onClickActions={additionalActions || []}
                            key={text}
                        />
                    );
                })}
        </>
    );
};

export default NavbarLinksRenderer;
