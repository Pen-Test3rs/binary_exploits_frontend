import React from 'react';
import SubmenuNavbarLink from './submenuNavbarLink';
import useOnclickOutside from 'react-cool-onclickoutside';

const submenuLinks = [
    {
        to: '/profile',
        text: 'My profile'
    },
    {
        to: '/logout',
        text: 'Log out'
    }
];

interface SubMenuNavbarLinksRendererProps {
    visible: boolean;
    hideSubMenu: () => void;
}

const SubMenuNavbarLinksRenderer = ({ visible, hideSubMenu }: SubMenuNavbarLinksRendererProps) => {
    const ref = useOnclickOutside(
        () => {
            hideSubMenu();
        },
        {
            ignoreClass: 'my-ignore-class'
        }
    );

    return (
        <div
            className="z-10 origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"
            style={{
                display: visible ? '' : 'none'
            }}
            ref={ref}
        >
            {submenuLinks.map(({ to, text }) => {
                return <SubmenuNavbarLink to={to} text={text} key={text} />;
            })}
        </div>
    );
};

export default SubMenuNavbarLinksRenderer;
