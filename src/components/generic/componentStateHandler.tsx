import { PropsWithChildren } from 'react';
import { AxiosError } from 'axios';
import LoadingSpinner from '../spinner/loadingSpinner';

interface IState{
    isLoading: boolean;
    error: AxiosError | undefined;
    data: any;
}

interface ComponentStateHandlerInterface {
    state: IState;
}

const ComponentStateHandler = ({ children, state: {error, isLoading, data} }: PropsWithChildren<ComponentStateHandlerInterface>) => {
    if(isLoading){
        return <LoadingSpinner/> //TODO: Full page spinner
    }

    if(error || data == undefined){
        return <div>Error</div> //TODO: toast? banner?
    }

    return <>{children}</>
};

export default ComponentStateHandler;