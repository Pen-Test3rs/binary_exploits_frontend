import { FieldError, UseFormRegisterReturn } from 'react-hook-form';
import React from 'react';
import LoginFormErrorLabel from './loginFormErrorLabel';
import cx from 'classnames';

interface InputField {
    id: string;
    type?: string;
    placeholder?: string;
    errors?: FieldError | undefined;
    registerOpts?: UseFormRegisterReturn;
    additionalStyles?: string;
}

const defaultButtonStyles =
    'appearance-none rounded-none relative ' +
    'block w-full px-3 py-2 border border-gray-300 ' +
    'placeholder-gray-500 text-gray-900 focus:outline-none' +
    'focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm';

const LoginFormInput = ({
    id,
    type = 'text',
    placeholder = '',
    errors,
    registerOpts,
    additionalStyles = ''
}: InputField) => {
    return (
        <React.Fragment>
            <input
                id={id}
                {...registerOpts}
                type={type}
                className={cx(defaultButtonStyles, additionalStyles)}
                placeholder={placeholder}
            />
            <LoginFormErrorLabel errors={errors} />
        </React.Fragment>
    );
};

export default LoginFormInput;
