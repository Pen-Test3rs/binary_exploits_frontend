import React from 'react';
import { articleService } from '../../../services/articleService';
import { ArticleCategory } from '../../../models/article';
import ArticleCategoryComponent from './articleCategoryComponent';
import useAxiosEffect from '../../generic/useAxiosEffect';
import { ComponentStateHandler } from '../../generic/componentStateHandler';

const ArticleList = () => {
    const state = useAxiosEffect<ArticleCategory[]>(articleService.getAll, []);
    const articleCategory = state.data;

    return (
        <ComponentStateHandler state={state}>
            {articleCategory &&
                articleCategory
                    .sort((c1, c2) => c1.ordinal - c2.ordinal)
                    .map((ac) => {
                        return <ArticleCategoryComponent key={ac.id} category={ac} />;
                    })}
        </ComponentStateHandler>
    );
};

export default ArticleList;
