import React from 'react';
import { articleService } from '../../../services/articleService';
import { ArticleCategory } from '../../../models/article';
import ArticleCategoryComponent from './articleCategoryComponent';
import ArticlesContainer from '../../styled-components/articles/ArticlesContainer';
import useAxiosEffect from '../../generic/useAxiosEffect';
import ComponentStateHandler from '../../generic/componentStateHandler';

const ArticleListContainer = () => {
    const state = useAxiosEffect<ArticleCategory[]>(articleService.getAll, []);
    const articleCategory = state.data as ArticleCategory[];

    return (
        <ComponentStateHandler state={state}>
            <ArticlesContainer>
                {articleCategory && articleCategory.map((ac) => {
                    return <ArticleCategoryComponent key={ac.id} category={ac} />;
                })}
            </ArticlesContainer>
        </ComponentStateHandler>
    );
};

export default ArticleListContainer;
