import React from 'react';
import { articleService } from '../../../services/articleService';
import { ArticleCategory } from '../../../models/article';
import ArticleCategoryComponent from './articleCategoryComponent';
import CardsContainer from '../../styled-components/common/CardsContainer';
import useAxiosEffect from '../../generic/useAxiosEffect';
import ComponentStateHandler from '../../generic/componentStateHandler';

const ArticleListContainer = () => {
    const state = useAxiosEffect<ArticleCategory[]>(articleService.getAll, []);
    const articleCategory = state.data;

    return (
        <ComponentStateHandler state={state}>
            <CardsContainer>
                {articleCategory &&
                    articleCategory
                        .sort((c1, c2) => c1.ordinal - c2.ordinal)
                        .map((ac) => {
                            return <ArticleCategoryComponent key={ac.id} category={ac} />;
                        })}
            </CardsContainer>
        </ComponentStateHandler>
    );
};

export default ArticleListContainer;
