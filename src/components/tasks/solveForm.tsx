import React from 'react';
import { useForm } from 'react-hook-form';
import { SolveData } from '../../models/solveData';
import { formTexts } from '../shared/form/formTexts';
import FormInputField from '../shared/form/formInputField';

interface SolveFormProps {
    onSubmit: (data: SolveData) => void;
}

const SolveForm = ({ onSubmit }: SolveFormProps) => {
    const { register, handleSubmit } = useForm<SolveData>({ mode: 'all' });

    return (
        <div className="w-full mt-2">
            <form className="mt-1" onSubmit={handleSubmit(onSubmit)} method="POST">
                <div className="mx-auto py-1 flex items-center">
                    <FormInputField
                        placeholder={'Flaga'}
                        registerOpts={register('flag', {
                            required: formTexts.requiredField,
                            minLength: {
                                value: 3,
                                message: formTexts.textTooShort
                            }
                        })}
                        additionalStyles={'flex-1 appearance-none rounded shadow p-2 text-grey-dark mr-2'}
                    />
                    <button
                        type="submit"
                        className="appearance-none bg-blue-900 text-white tracking-wide py-2 px-4 rounded shadow hover:bg-blue-600"
                    >
                        Wyślij
                    </button>
                    {/*<SubmitButton loading={loading} loadingText={'Wysyłanie...'} text={'Wyślij'} />*/}

                    {/*<input*/}
                    {/*    type="text"*/}
                    {/*    placeholder="Flaga"*/}
                    {/*    className="flex-1 appearance-none rounded shadow p-2 text-grey-dark mr-2 focus:outline-none"*/}
                    {/*/>*/}
                    {/*<button*/}
                    {/*    type="submit"*/}
                    {/*    className="appearance-none bg-blue-900 text-white tracking-wide py-2 px-4 rounded shadow hover:bg-blue-600"*/}
                    {/*>*/}
                    {/*    Wyślij*/}
                    {/*</button>*/}
                </div>
            </form>
        </div>
    );
};

export default SolveForm;
