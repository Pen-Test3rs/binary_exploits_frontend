import React from 'react';
import { Task } from '../../../models/task';
import { taskService } from '../../../services/taskService';
import SingleTaskContent from './singleTaskContent';
import useAxiosEffect from '../../generic/useAxiosEffect';
import { ComponentStateHandler } from '../../generic/componentStateHandler';

interface SingleTaskComponentProps {
    id: number;
}

const SingleTaskComponent = ({ id }: SingleTaskComponentProps) => {
    const state = useAxiosEffect<Task>((opt) => taskService.getOne(id, opt), []);
    const task = state.data as Task;

    return (
        <ComponentStateHandler state={state}>
            <SingleTaskContent task={task} />
        </ComponentStateHandler>
    );
};

export default SingleTaskComponent;
