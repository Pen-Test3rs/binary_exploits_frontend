import React, { Dispatch, SetStateAction } from 'react';
import SingleTaskComponent from './singleTaskComponent';
import Modal from 'react-modal';
import XIcon from '../../shared/modal/x-icon';

interface TaskModalProps {
    taskId: number;
    modalIsOpen: boolean;
    setModalIsOpen: Dispatch<SetStateAction<boolean>>;
}

const TaskModal = ({ taskId, modalIsOpen, setModalIsOpen }: TaskModalProps) => {
    return (
        <Modal
            key={taskId}
            isOpen={modalIsOpen}
            shouldCloseOnEsc={true}
            shouldCloseOnOverlayClick={true}
            ariaHideApp={false}
            onRequestClose={() => setModalIsOpen(false)}
            closeTimeoutMS={500}
            overlayClassName="fixed inset-0 w-full h-full bg-gray-300 flex justify-center items-center bg-opacity-75"
            className="py-5 absolute bg-white overflow-auto h-11/12 w-5/6 max-h-full md:w-4/6 lg:w-1/2 shadow rounded focus:outline-none"
        >
            <button
                onClick={() => setModalIsOpen(false)}
                className="absolute right-4 top-5 focus:outline-none opacity-30"
            >
                <XIcon />
            </button>
            <SingleTaskComponent key={taskId} id={String(taskId)} />
        </Modal>
    );
};

export default TaskModal;
