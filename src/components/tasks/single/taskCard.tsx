import React from 'react';
import { TaskCardData, TaskStatus } from '../../../models/task';
import Card from '../../generic/card';
import TaskCardContent from './taskCardContent';
import { getLevelToTextAndColor } from '../levelToTextAndColor';

interface TaskCardProps {
    taskData: TaskCardData;
    openModal: (taskId: number) => void;
}

const TaskCard = ({ taskData, openModal }: TaskCardProps) => {
    const { id, title, labels, status, level, points } = taskData;
    const { color, levelText } = getLevelToTextAndColor(level);

    return (
        <>
            <button
                disabled={taskData.status === TaskStatus.BLOCKED}
                className="w-full focus:outline-none"
                onClick={() => openModal(id)}
            >
                <Card title={title} labelText={levelText} labelColor={color} tags={labels} taskStatus={status}>
                    <TaskCardContent points={points} />
                </Card>
            </button>
        </>
    );
};

export default TaskCard;
