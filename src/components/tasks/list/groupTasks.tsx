import { TaskCardData, TaskCategory, taskComparator, TaskStatus } from '../../../models/task';

export const groupTasks = (tasks: TaskCardData[] | undefined): TaskCategory[] => {
    const unresolved: TaskCardData[] = [];
    const solved: TaskCardData[] = [];
    const blocked: TaskCardData[] = [];

    tasks?.sort(taskComparator).forEach((task) => {
        switch (task.status) {
            case TaskStatus.OK:
                unresolved.push(task);
                break;
            case TaskStatus.SOLVED:
                solved.push(task);
                break;
            case TaskStatus.BLOCKED:
                blocked.push(task);
                break;
        }
    });

    return [
        { id: 1, tasks: unresolved, name: 'Dostępne' },
        { id: 2, tasks: blocked, name: 'Zablokowane' },
        { id: 3, tasks: solved, name: 'Rozwiązane' }
    ];
};
